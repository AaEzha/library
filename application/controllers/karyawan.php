<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class karyawan extends CI_Controller {	function __construct()    {        parent::__construct();        $this->load->model('karyawan_model', 'mdl');    }	public function index()	{		$this->db->order_by("nomor_id", "desc");		$this->db->limit(1);		$query = $this->db->get("karyawan");		$d = $query->result_array();		$data['noid'] = $d[0]['nomor_id']+1;				$fields = $this->db->field_data('karyawan');		foreach($fields as $val){			$fields2[($val->name)] = (array) $val;		}		$data['desc_table'] = $fields2;		$data['error'] = '';		if($this->input->post('submit')<>''){			$post = ($this->input->post());			unset($post['submit']);				$this->db->insert('karyawan',$post);				$this->session->set_flashdata('message', 'Success Registration');				redirect('karyawan/data');		}				else{			$data['content'] = strtolower(__CLASS__) .'/'. strtolower(__FUNCTION__);			$this->load->view('layout/template_admin',$data);		}	}	public function data()	{		$data['data'] = $this->mdl->get_data();		$data['content'] = strtolower(__CLASS__) .'/'. strtolower(__FUNCTION__);		$this->load->view('layout/template_admin',$data);	}	public function update($id)	{		$data['data'] = $this->mdl->getById($id);		$data['content'] = 'karyawan/update';		$this->load->view('layout/template_admin',$data);		if($this->input->post('submit')<>'')		{			$post = ($this->input->post());			unset($post['submit']);			$this->db->update('karyawan',$post,array('nomor_id'=>$post['nomor_id']));			redirect(strtolower(__CLASS__)."/data");		}	}			public function delete($id)	{		$delete = $this->mdl->delete($id);		if($delete){			redirect(strtolower(__CLASS__)."/data");		}else{			echo "<script>alert('Delete data gagal');</script>";			redirect(strtolower(__CLASS__)."/data");		}	}}